"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([["5658"],{19569(e,n,o){o.r(n),o.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>s,metadata:()=>r,toc:()=>a});var r=o(26386),i=o(74848),t=o(28453);let s={mdx:{format:"md"},date:"2022-08-30T20:00"},l="3.0.0",d={authorsImageUrls:[]},a=[];function c(e){let n={code:"code",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"This release includes an overhaul of the COM and WinRT API generation, as\ndescribed below. Apps and packages that call traditional Win32 APIs should not\nrequire changes, but apps that use COM or the highly-experimental WinRT APIs\nshould expect to make changes."}),"\n",(0,i.jsxs)(n.li,{children:["[BREAKING CHANGE] WinRT APIs have been moved to a separate library. This\nprovides isolation for apps that only use traditional APIs (Win32/COM) from\nthe more experimental WinRT APIs. To use WinRT from your code, change your\nimport statement to ",(0,i.jsx)(n.code,{children:"import 'package:win32/winrt.dart';"}),". The WinRT library\nalso exports all Win32 APIs, so you don't have to import both libraries."]}),"\n",(0,i.jsx)(n.li,{children:"[BREAKING CHANGE] COM and Windows Runtime methods and properties are now\ncamelCased, not TitleCased. This is inconvenient, but it avoids a whole class\nof name clashes and aligns COM and WinRT APIs more closely with Dart idioms.\nAs the projections get smarter with more helpers, we think this is the right\ncall for the future and worth a one-time tax to fix."}),"\n",(0,i.jsx)(n.li,{children:"[BREAKING CHANGE] You can now cast to a new COM interface without needing the\nIID for the target interface. Instead of:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dart",children:"  final modalWindow = IModalWindow(fileDialog.toInterface(IID_IModalWindow));\n"})}),"\n",(0,i.jsx)(n.p,{children:"write:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-dart",children:"  final modalWindow = IModalWindow.from(fileDialog);\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["[BREAKING CHANGE] WinRT classes now support projection of ",(0,i.jsx)(n.code,{children:"List"}),"s and\n",(0,i.jsx)(n.code,{children:"String"}),"s directly."]}),"\n",(0,i.jsxs)(n.li,{children:["[BREAKING CHANGE] The WinRT ",(0,i.jsx)(n.code,{children:"fromPointer"})," method is now ",(0,i.jsx)(n.code,{children:"fromRawPointer"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"GUIDFromString"})," now supports an optional custom allocator parameter."]}),"\n",(0,i.jsx)(n.li,{children:"Added various APIs from iphlpapi.dll for tracking and renewing IP addresses."}),"\n",(0,i.jsxs)(n.li,{children:["Added ",(0,i.jsx)(n.code,{children:"DisableThreadLibraryCalls"}),", ",(0,i.jsx)(n.code,{children:"FindStringOrdinal"}),", ",(0,i.jsx)(n.code,{children:"GetConsoleCP"}),",\n",(0,i.jsx)(n.code,{children:"GetConsoleOutputCP"}),", ",(0,i.jsx)(n.code,{children:"GetModuleHandleExW"}),", ",(0,i.jsx)(n.code,{children:"GetNumberOfConsoleInputEvents"}),",\n",(0,i.jsx)(n.code,{children:"GetVolumeInformation"}),", ",(0,i.jsx)(n.code,{children:"GetVolumeInformationByHandle"}),", ",(0,i.jsx)(n.code,{children:"PeekConsoleInput"}),",\n",(0,i.jsx)(n.code,{children:"ReadConsoleInputW"}),", ",(0,i.jsx)(n.code,{children:"SetErrorMode"}),", ",(0,i.jsx)(n.code,{children:"SetThreadErrorMode"}),", ",(0,i.jsx)(n.code,{children:"SizeofResource"}),"\nAPIs from kernel32.dll"]}),"\n",(0,i.jsxs)(n.li,{children:["Added ",(0,i.jsx)(n.code,{children:"GetClassFile"})," API from ole32.dll"]}),"\n",(0,i.jsxs)(n.li,{children:["Added ",(0,i.jsx)(n.code,{children:"SetupDiGetDeviceInstanceId"}),", ",(0,i.jsx)(n.code,{children:"SetupDiGetDeviceRegistryPropertyW"})," APIs\nfrom setupapi.dll"]}),"\n",(0,i.jsxs)(n.li,{children:["Added ",(0,i.jsx)(n.code,{children:"GetAltTabInfoW"}),", ",(0,i.jsx)(n.code,{children:"GetClassNameW"}),", ",(0,i.jsx)(n.code,{children:"GetGUIThreadInfo"})," APIs from\nuser32.dll"]}),"\n",(0,i.jsxs)(n.li,{children:["Added various foundational WinRT types, including ",(0,i.jsx)(n.code,{children:"IIterable"}),", ",(0,i.jsx)(n.code,{children:"IIterator"}),",\n",(0,i.jsx)(n.code,{children:"IKeyValuePair"}),", ",(0,i.jsx)(n.code,{children:"IMapView"}),", ",(0,i.jsx)(n.code,{children:"IVector"}),", ",(0,i.jsx)(n.code,{children:"IVectorView"}),", ",(0,i.jsx)(n.code,{children:"IPropertyValue"}),",\n",(0,i.jsx)(n.code,{children:"IReference"}),", with tremendous thanks again to @halildurmus, who has driven\nmuch of the recent WinRT work."]}),"\n",(0,i.jsx)(n.li,{children:"Major reworking of the WinRT generation code, thanks to @halildurmus."}),"\n"]})]})}function h(e={}){let{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},28453(e,n,o){o.d(n,{R:()=>s,x:()=>l});var r=o(96540);let i={},t=r.createContext(i);function s(e){let n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),r.createElement(t.Provider,{value:n},e.children)}},26386(e){e.exports=JSON.parse('{"permalink":"/changelog/3.0.0","source":"@site/changelog/source/3.0.0.md","title":"3.0.0","description":"- This release includes an overhaul of the COM and WinRT API generation, as","date":"2022-08-30T20:00:00.000Z","tags":[],"hasTruncateMarker":true,"authors":[],"frontMatter":{"mdx":{"format":"md"},"date":"2022-08-30T20:00"},"unlisted":false,"prevItem":{"title":"3.0.1","permalink":"/changelog/3.0.1"},"nextItem":{"title":"2.7.0","permalink":"/changelog/2.7.0"},"listPageLink":"/changelog/page/3"}')}}]);