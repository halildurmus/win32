"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([["5121"],{19003(e,t,n){n.r(t),n.d(t,{metadata:()=>s,default:()=>x,frontMatter:()=>l,contentTitle:()=>d,toc:()=>h,assets:()=>c});var s=JSON.parse('{"id":"core/integer-types","title":"Integer Types","description":"Dart has a single, arbitrary-precision int type. In contrast, the Win32 API","source":"@site/docs/core/integer-types.md","sourceDirName":"core","slug":"/core/integer-types","permalink":"/docs/core/integer-types","draft":false,"unlisted":false,"editUrl":"https://github.com/halildurmus/win32/tree/main/website/docs/core/integer-types.md","tags":[],"version":"current","lastUpdatedBy":"Halil Durmus","lastUpdatedAt":1772220481000,"frontMatter":{"title":"Integer Types"},"sidebar":"mainSidebar","previous":{"title":"Memory Management Patterns","permalink":"/docs/core/memory-management-patterns"},"next":{"title":"Strings","permalink":"/docs/core/strings"}}'),r=n(74848),i=n(28453);let l={title:"Integer Types"},d,c={},h=[{value:"Common Win32 Integer Types",id:"common-win32-integer-types",level:2},{value:"Typedefs in <code>package:win32</code>",id:"typedefs-in-packagewin32",level:2},{value:"Output Parameters and Pointers",id:"output-parameters-and-pointers",level:2}];function o(e){let t={a:"a",code:"code",h2:"h2",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components},{CommonViewSourceCode:n}=t;return n||function(e,t){throw Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("CommonViewSourceCode",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(t.p,{children:["Dart has a single, arbitrary-precision ",(0,r.jsx)(t.code,{children:"int"})," type. In contrast, the Win32 API\nuses many fixed-width integer types with explicit ",(0,r.jsx)(t.strong,{children:"size"})," and ",(0,r.jsx)(t.strong,{children:"signedness"}),"."]}),"\n",(0,r.jsxs)(t.p,{children:["When calling Win32 functions, ",(0,r.jsx)(t.a,{href:"https://pub.dev/packages/win32",children:(0,r.jsx)(t.code,{children:"package:win32"})})," handles\nmarshaling Dart ",(0,r.jsx)(t.code,{children:"int"})," values into the correct native representation for you.\nHowever, when ",(0,r.jsx)(t.strong,{children:"receiving"})," values through pointers or struct fields, you must\nallocate the correct native type or risk silent data corruption."]}),"\n",(0,r.jsx)(t.p,{children:"Understanding these native integer types is therefore essential when working\nwith output parameters, buffers, and structs."}),"\n",(0,r.jsx)(t.h2,{id:"common-win32-integer-types",children:"Common Win32 Integer Types"}),"\n",(0,r.jsxs)(t.p,{children:["The following table lists the most common integer types encountered in the Win32\nAPI and their ",(0,r.jsx)(t.code,{children:"dart:ffi"})," equivalents:"]}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Common Win32 Names"}),(0,r.jsxs)(t.th,{style:{textAlign:"center"},children:[(0,r.jsx)(t.code,{children:"dart:ffi"})," Type"]}),(0,r.jsx)(t.th,{style:{textAlign:"center"},children:"Size"}),(0,r.jsx)(t.th,{style:{textAlign:"center"},children:"Signed"}),(0,r.jsx)(t.th,{style:{textAlign:"right"},children:"Range"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{children:[(0,r.jsx)(t.code,{children:"BYTE"}),", ",(0,r.jsx)(t.code,{children:"UINT8"}),", ",(0,r.jsx)(t.code,{children:"CHAR"})]}),(0,r.jsx)(t.td,{style:{textAlign:"center"},children:(0,r.jsx)(t.code,{children:"Uint8"})}),(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"8 bits"}),(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"No"}),(0,r.jsx)(t.td,{style:{textAlign:"right"},children:"0 to 255"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"INT8"})}),(0,r.jsx)(t.td,{style:{textAlign:"center"},children:(0,r.jsx)(t.code,{children:"Int8"})}),(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"8 bits"}),(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"Yes"}),(0,r.jsx)(t.td,{style:{textAlign:"right"},children:"-128 to 127"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{children:[(0,r.jsx)(t.code,{children:"WORD"}),", ",(0,r.jsx)(t.code,{children:"ATOM"}),", ",(0,r.jsx)(t.code,{children:"UINT16"}),", ",(0,r.jsx)(t.code,{children:"USHORT"})]}),(0,r.jsx)(t.td,{style:{textAlign:"center"},children:(0,r.jsx)(t.code,{children:"Uint16"})}),(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"16 bits"}),(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"No"}),(0,r.jsx)(t.td,{style:{textAlign:"right"},children:"0 to 65535"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{children:[(0,r.jsx)(t.code,{children:"INT16"}),", ",(0,r.jsx)(t.code,{children:"SHORT"})]}),(0,r.jsx)(t.td,{style:{textAlign:"center"},children:(0,r.jsx)(t.code,{children:"Int16"})}),(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"16 bits"}),(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"Yes"}),(0,r.jsx)(t.td,{style:{textAlign:"right"},children:"-32768 to 32767"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{children:[(0,r.jsx)(t.code,{children:"DWORD"}),", ",(0,r.jsx)(t.code,{children:"UINT"}),", ",(0,r.jsx)(t.code,{children:"UINT32"}),", ",(0,r.jsx)(t.code,{children:"ULONG"})]}),(0,r.jsx)(t.td,{style:{textAlign:"center"},children:(0,r.jsx)(t.code,{children:"Uint32"})}),(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"32 bits"}),(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"No"}),(0,r.jsxs)(t.td,{style:{textAlign:"right"},children:["0 to 2",(0,r.jsx)("sup",{children:"32"}),"-1"]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{children:[(0,r.jsx)(t.code,{children:"INT"}),", ",(0,r.jsx)(t.code,{children:"INT32"}),", ",(0,r.jsx)(t.code,{children:"LONG"})]}),(0,r.jsx)(t.td,{style:{textAlign:"center"},children:(0,r.jsx)(t.code,{children:"Int32"})}),(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"32 bits"}),(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"Yes"}),(0,r.jsxs)(t.td,{style:{textAlign:"right"},children:["-2",(0,r.jsx)("sup",{children:"31"})," to 2",(0,r.jsx)("sup",{children:"31"}),"-1"]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{children:[(0,r.jsx)(t.code,{children:"DWORDLONG"}),", ",(0,r.jsx)(t.code,{children:"ULONGLONG"}),", ",(0,r.jsx)(t.code,{children:"UINT64"}),", ",(0,r.jsx)(t.code,{children:"ULONG64"})]}),(0,r.jsx)(t.td,{style:{textAlign:"center"},children:(0,r.jsx)(t.code,{children:"Uint64"})}),(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"64 bits"}),(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"No"}),(0,r.jsxs)(t.td,{style:{textAlign:"right"},children:["0 to 2",(0,r.jsx)("sup",{children:"64"}),"-1"]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{children:[(0,r.jsx)(t.code,{children:"LONGLONG"}),", ",(0,r.jsx)(t.code,{children:"INT64"})]}),(0,r.jsx)(t.td,{style:{textAlign:"center"},children:(0,r.jsx)(t.code,{children:"Int64"})}),(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"64 bits"}),(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"Yes"}),(0,r.jsxs)(t.td,{style:{textAlign:"right"},children:["-2",(0,r.jsx)("sup",{children:"63"})," to 2",(0,r.jsx)("sup",{children:"63"}),"-1"]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"LONG_PTR"})}),(0,r.jsx)(t.td,{style:{textAlign:"center"},children:(0,r.jsx)(t.code,{children:"IntPtr"})}),(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"32/64 bits"}),(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"Yes"}),(0,r.jsx)(t.td,{style:{textAlign:"right"},children:"Matches pointer length"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsxs)(t.td,{children:[(0,r.jsx)(t.code,{children:"UINT_PTR"}),", ",(0,r.jsx)(t.code,{children:"ULONG_PTR"})]}),(0,r.jsx)(t.td,{style:{textAlign:"center"},children:(0,r.jsx)(t.code,{children:"IntPtr"})}),(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"32/64 bits"}),(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"No"}),(0,r.jsx)(t.td,{style:{textAlign:"right"},children:"Matches pointer length"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"HANDLE"})}),(0,r.jsx)(t.td,{style:{textAlign:"center"},children:(0,r.jsx)(t.code,{children:"Pointer"})}),(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"32/64 bits"}),(0,r.jsx)(t.td,{style:{textAlign:"center"},children:"No"}),(0,r.jsx)(t.td,{style:{textAlign:"right"},children:"Opaque handle (not numeric data)"})]})]})]}),"\n",(0,r.jsxs)(t.h2,{id:"typedefs-in-packagewin32",children:["Typedefs in ",(0,r.jsx)(t.code,{children:"package:win32"})]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.code,{children:"package:win32"})," provides Dart ",(0,r.jsx)(t.a,{href:"https://dart.dev/language/typedefs",children:(0,r.jsx)(t.code,{children:"typedefs"})})," for all common Win32\ninteger types, such as ",(0,r.jsx)(t.code,{children:"DWORD"}),", ",(0,r.jsx)(t.code,{children:"ULONG64"}),", and ",(0,r.jsx)(t.code,{children:"ULONGLONG"}),"."]}),"\n",(0,r.jsxs)(t.p,{children:["You should prefer these typedefs over raw ",(0,r.jsx)(t.code,{children:"dart:ffi"})," types when interacting with\nWin32 APIs, as they match the native signatures exactly and improve readability."]}),"\n",(0,r.jsx)(t.h2,{id:"output-parameters-and-pointers",children:"Output Parameters and Pointers"}),"\n",(0,r.jsxs)(t.p,{children:["Many Win32 functions return values through ",(0,r.jsx)(t.strong,{children:"output parameters"})," such as\n",(0,r.jsx)(t.code,{children:"LPDWORD"}),", ",(0,r.jsx)(t.code,{children:"PULONG64"}),", or ",(0,r.jsx)(t.code,{children:"LPINT"}),"."]}),"\n",(0,r.jsx)(t.p,{children:"The FFI type you allocate determines how the native bytes are interpreted in\nDart. Using the wrong type will produce incorrect values."}),"\n",(0,r.jsxs)(t.p,{children:["For example, the\n",(0,r.jsx)(t.a,{href:"https://learn.microsoft.com/windows/win32/api/sysinfoapi/nf-sysinfoapi-getphysicallyinstalledsystemmemory",children:(0,r.jsx)(t.code,{children:"GetPhysicallyInstalledSystemMemory"})}),"\nfunction fills a ",(0,r.jsx)(t.code,{children:"PULONGLONG"})," output parameter:"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-dart",metastring:'title="sysinfo.dart"',children:"String getSystemMemorySize() {\n  return using((arena) {\n    // ULONGLONG matches the native PULONGLONG output parameter.\n    // highlight-next-line\n    final lpMemorySize = arena<ULONGLONG>();\n    final Win32Result(:value, :error) = GetPhysicallyInstalledSystemMemory(\n      lpMemorySize,\n    );\n    if (!value) throw WindowsException(error.toHRESULT());\n    return lpMemorySize.value ~/ 1024;\n  });\n}\n"})}),"\n",(0,r.jsx)(n,{href:"https://github.com/halildurmus/win32/blob/main/examples/sysinfo.dart"})]})}function x(e={}){let{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},28453(e,t,n){n.d(t,{R:()=>l,x:()=>d});var s=n(96540);let r={},i=s.createContext(r);function l(e){let t=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),s.createElement(i.Provider,{value:t},e.children)}}}]);