"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([["3811"],{26278(e,n,s){s.r(n),s.d(n,{assets:()=>t,contentTitle:()=>d,default:()=>h,frontMatter:()=>c,metadata:()=>r,toc:()=>a});var r=s(13172),i=s(74848),l=s(28453);let c={mdx:{format:"md"},date:"2026-02-22T20:00"},d="6.0.0",t={authorsImageUrls:[]},a=[{value:"\u{1F504} Breaking Changes",id:"-breaking-changes",level:3},{value:"\u{1F680} Features",id:"-features",level:3}];function o(e){let n={a:"a",blockquote:"blockquote",code:"code",h3:"h3",li:"li",p:"p",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h3,{id:"-breaking-changes",children:"\u{1F504} Breaking Changes"}),"\n",(0,i.jsxs)(n.p,{children:["This release introduces a ",(0,i.jsx)(n.strong,{children:"major redesign of the Win32 Dart API"})," with a strong\nfocus on ",(0,i.jsx)(n.strong,{children:"type safety"}),", ",(0,i.jsx)(n.strong,{children:"deterministic resource management"}),", and\n",(0,i.jsx)(n.strong,{children:"idiomatic Dart usage"}),". Most changes are mechanical but widespread."]}),"\n",(0,i.jsx)(n.p,{children:"Key breaking changes include:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Exception-based error handling"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["APIs returning ",(0,i.jsx)(n.code,{children:"HRESULT"})," now throw ",(0,i.jsx)(n.code,{children:"WindowsException"})," on failure"]}),"\n",(0,i.jsx)(n.li,{children:"Logical return values are returned directly instead of via out-parameters"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsxs)(n.strong,{children:["New error model for APIs that call ",(0,i.jsx)(n.code,{children:"SetLastError()"})]})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Such APIs now return ",(0,i.jsx)(n.code,{children:"Win32Result<T>"})," which captures both the logical return\nvalue and the associated last-error code atomically on the native side,\nensuring the ",(0,i.jsx)(n.strong,{children:"error state is preserved"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Strongly typed Win32 handles"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Opaque handles (e.g., ",(0,i.jsx)(n.code,{children:"HKEY"}),", ",(0,i.jsx)(n.code,{children:"HWND"}),", ",(0,i.jsx)(n.code,{children:"HICON"}),") are now extension types\ninstead of plain ",(0,i.jsx)(n.code,{children:"int"})," or ",(0,i.jsx)(n.code,{children:"Pointer"})," values"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsxs)(n.strong,{children:["Win32 ",(0,i.jsx)(n.code,{children:"BOOL"})," mapped to Dart ",(0,i.jsx)(n.code,{children:"bool"})]})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Applies uniformly to return values, parameters, and struct fields"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Enums are now extension types"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Replaces raw ",(0,i.jsx)(n.code,{children:"int"})," constants with strongly typed extension types"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Explicit COM lifetime management"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Automatic cleanup via ",(0,i.jsx)(n.code,{children:"Finalizer"})," has been removed"]}),"\n",(0,i.jsxs)(n.li,{children:["COM objects must be released explicitly or managed with ",(0,i.jsx)(n.code,{children:"Arena"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsxs)(n.strong,{children:["COM and ",(0,i.jsx)(n.code,{children:"HRESULT"})," API simplifications"]})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"QueryInterface"}),"-style methods now return interfaces directly"]}),"\n",(0,i.jsxs)(n.li,{children:["Manual ",(0,i.jsx)(n.code,{children:"HRESULT"})," checks and pointer plumbing are eliminated"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Major string API cleanup"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Renamed and simplified string conversion helpers"}),"\n",(0,i.jsxs)(n.li,{children:["Removed ",(0,i.jsx)(n.code,{children:"TEXT()"}),", ",(0,i.jsx)(n.code,{children:"BSTR"})," class, and legacy helpers"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"GUID API redesign"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Removed ",(0,i.jsx)(n.code,{children:"Guid"})," class and string-based helpers"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"GUID"})," struct is now the single, explicit representation"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsxs)(n.strong,{children:[(0,i.jsx)(n.code,{children:"winsock2"})," library removed"]})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["All Winsock APIs are now exported directly from ",(0,i.jsx)(n.code,{children:"win32.dart"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Dispatcher API redesign"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Strongly typed results"}),"\n",(0,i.jsxs)(n.li,{children:["No manual ",(0,i.jsx)(n.code,{children:"VARIANT"})," or ",(0,i.jsx)(n.code,{children:"DISPPARAMS"})," construction"]}),"\n",(0,i.jsx)(n.li,{children:"Explicit ownership and cleanup"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["See the ",(0,i.jsx)(n.a,{href:"https://win32.pub/docs/migration/5xx-to-6xx",children:(0,i.jsx)(n.strong,{children:"Migration Guide"})}),"\nwith examples and mechanical migration steps."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"-features",children:"\u{1F680} Features"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Scope-based lifetime management"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["New extensions for ",(0,i.jsx)(n.code,{children:"Arena"})," to manage native memory and COM lifetimes"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Much stronger type safety across the API surface"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Typed handles, enums, booleans, GUIDs, and COM interfaces"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"More idiomatic Dart APIs"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Fewer pointers, fewer out-parameters, clearer ownership rules"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Reliable error handling"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Atomic capture of ",(0,i.jsx)(n.code,{children:"GetLastError()"})," values on native side, exposed via\n",(0,i.jsx)(n.code,{children:"Win32Result<T>"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Cleaner, more consistent conversion APIs"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Unified naming and semantics for strings, binary data, and ",(0,i.jsx)(n.code,{children:"FILETIME"})," values"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Native memory leak detection"})," via ",(0,i.jsx)(n.code,{children:"package:ffi_leak_tracker"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Tracks allocations with call stacks and timestamps; see the\n",(0,i.jsx)(n.a,{href:"https://win32.pub/docs/advanced/leak-tracking",children:(0,i.jsx)(n.strong,{children:"Leak Tracking"})})," guide for\ndetails"]}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){let{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},28453(e,n,s){s.d(n,{R:()=>c,x:()=>d});var r=s(96540);let i={},l=r.createContext(i);function c(e){let n=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),r.createElement(l.Provider,{value:n},e.children)}},13172(e){e.exports=JSON.parse('{"permalink":"/changelog/6.0.0","source":"@site/changelog/source/6.0.0.md","title":"6.0.0","description":"\u{1F504} Breaking Changes","date":"2026-02-22T20:00:00.000Z","tags":[],"hasTruncateMarker":true,"authors":[],"frontMatter":{"mdx":{"format":"md"},"date":"2026-02-22T20:00"},"unlisted":false,"nextItem":{"title":"5.15.0","permalink":"/changelog/5.15.0"},"listPageLink":"/changelog/"}')}}]);