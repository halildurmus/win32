pre-commit:
  parallel: true
  commands:
    analyze:
      glob: '*.{dart}'
      exclude:
        - 'packages/win32/test_fixes/**/*.dart'
      run: dart run halildurmus_hooks:analyze {staged_files}
    format:
      glob: '*.{dart}'
      run: dart run halildurmus_hooks:format {staged_files}
    test_ffi_leak_tracker:
      root: packages/ffi_leak_tracker
      glob: 'packages/ffi_leak_tracker/{lib,test}/**/*.dart'
      run: dart run halildurmus_hooks:test
    test_filepicker_windows:
      root: packages/filepicker_windows
      glob: 'packages/filepicker_windows/{lib,test}/**/*.dart'
      run: dart run halildurmus_hooks:test
    test_generator:
      root: packages/generator
      glob: 'packages/generator/{lib,test}/**/*.dart'
      run: dart run halildurmus_hooks:test
    test_win32:
      root: packages/win32
      glob: 'packages/win32/{lib,test}/**/*.dart'
      run: dart run halildurmus_hooks:test
    test_win32_clipboard:
      root: packages/win32_clipboard
      glob: 'packages/win32_clipboard/{lib,test}/**/*.dart'
      run: dart run halildurmus_hooks:test
    test_win32_gamepad:
      root: packages/win32_gamepad
      glob: 'packages/win32_gamepad/{lib,test}/**/*.dart'
      run: dart run halildurmus_hooks:test
    test_win32_registry:
      root: packages/win32_registry
      glob: 'packages/win32_registry/{lib,test}/**/*.dart'
      run: dart run halildurmus_hooks:test
    test_win32_runner:
      root: packages/win32_runner
      glob: 'packages/win32_runner/{lib,test}/**/*.dart'
      run: dart run halildurmus_hooks:test
    test_winmd:
      root: packages/winmd
      glob: 'packages/winmd/{lib,test}/**/*.dart'
      run: dart run halildurmus_hooks:test -- -j 1 --test-randomize-ordering-seed=random

commit-msg:
  commands:
    check_commit:
      run: dart run halildurmus_hooks:check_commit {1}
